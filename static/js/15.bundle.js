(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{13:function(e,t,n){"use strict";var i,S=n(0),r=n(1),o=n(2),P=n.n(o),a=n(17),x=n(28),_=n(7),c=n(8),l=n(9),s=n(50),u=n(32),p=n.n(u),f=0,m={};function d(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=f++,r=e;return m[f]=p()(function e(){(r-=1)<=0?(t(),delete m[f]):m[f]=p()(e)}),n}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return!e||null===e.offsetParent}d.cancel=function(e){p.a.cancel(m[e]),delete m[e]};var I=function(e){function n(){var a,e,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=this,t=b(n).apply(this,arguments),(a=!t||"object"!==h(t)&&"function"!=typeof t?g(e):t).animationStart=!1,a.destroy=!1,a.onClick=function(e,t){if(!(!e||w(e)||0<=e.className.indexOf("-leave"))){var n=a.props.insertExtraNode;a.extraNode=document.createElement("div");var r=a.extraNode;r.className="ant-click-animating-node";var o=a.getAttributeName();e.removeAttribute(o),e.setAttribute(o,"true"),i=i||document.createElement("style"),t&&"#ffffff"!==t&&"rgb(255, 255, 255)"!==t&&a.isNotGrey(t)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(t)&&"transparent"!==t&&(r.style.borderColor=t,i.innerHTML="[ant-click-animating-without-extra-node]:after { border-color: ".concat(t,"; }"),document.body.contains(i)||document.body.appendChild(i)),n&&e.appendChild(r),s.a.addStartEventListener(e,a.onTransitionStart),s.a.addEndEventListener(e,a.onTransitionEnd)}},a.bindAnimationEvent=function(n){if(n&&n.getAttribute&&!n.getAttribute("disabled")&&!(0<=n.className.indexOf("disabled"))){var e=function(e){if("INPUT"!==e.target.tagName&&!w(e.target)){a.resetEffect(n);var t=getComputedStyle(n).getPropertyValue("border-top-color")||getComputedStyle(n).getPropertyValue("border-color")||getComputedStyle(n).getPropertyValue("background-color");a.clickWaveTimeoutId=window.setTimeout(function(){return a.onClick(n,t)},0),d.cancel(a.animationStartId),a.animationStart=!0,a.animationStartId=d(function(){a.animationStart=!1},10)}};return n.addEventListener("click",e,!0),{cancel:function(){n.removeEventListener("click",e,!0)}}}},a.onTransitionStart=function(e){if(!a.destroy){var t=Object(l.findDOMNode)(g(g(a)));e&&e.target===t&&(a.animationStart||a.resetEffect(t))}},a.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&a.resetEffect(e.target)},a}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,S["Component"]),t=n,(r=[{key:"isNotGrey",value:function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}},{key:"getAttributeName",value:function(){return this.props.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"resetEffect",value:function(e){if(e&&e!==this.extraNode&&e instanceof Element){var t=this.props.insertExtraNode,n=this.getAttributeName();e.removeAttribute(n),this.removeExtraStyleNode(),t&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),s.a.removeStartEventListener(e,this.onTransitionStart),s.a.removeEndEventListener(e,this.onTransitionEnd)}}},{key:"removeExtraStyleNode",value:function(){i&&(i.innerHTML="")}},{key:"componentDidMount",value:function(){var e=Object(l.findDOMNode)(this);1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroy=!0}},{key:"render",value:function(){return this.props.children}}])&&y(t.prototype,r),o&&y(t,o),n}(),N=n(25);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},j=/^[\u4e00-\u9fa5]{2}$/,L=j.test.bind(j);Object(N.a)("default","primary","ghost","dashed","danger");var M=Object(N.a)("circle","circle-outline"),D=Object(N.a)("large","default","small"),W=Object(N.a)("submit","button","reset"),q=function(e){function t(e){var j;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(j=T(this,k(t).call(this,e))).saveButtonRef=function(e){j.buttonNode=e},j.handleClick=function(e){var t=j.state.loading,n=j.props.onClick;t||n&&n(e)},j.renderButton=function(e){var t,n=e.getPrefixCls,r=j.props,o=r.prefixCls,a=r.type,i=r.shape,c=r.size,l=r.className,s=r.children,u=r.icon,p=r.ghost,f=(r.loading,r.block),m=R(r,["prefixCls","type","shape","size","className","children","icon","ghost","loading","block"]),d=j.state,h=d.loading,y=d.hasTwoCNChar,b=n("btn",o),v="";switch(c){case"large":v="lg";break;case"small":v="sm"}var g=P()(b,l,(B(t={},"".concat(b,"-").concat(a),a),B(t,"".concat(b,"-").concat(i),i),B(t,"".concat(b,"-").concat(v),v),B(t,"".concat(b,"-icon-only"),!s&&0!==s&&u),B(t,"".concat(b,"-loading"),h),B(t,"".concat(b,"-background-ghost"),p),B(t,"".concat(b,"-two-chinese-chars"),y),B(t,"".concat(b,"-block"),f),t)),w=h?"loading":u,N=w?S.createElement(_.a,{type:w}):null,E=s||0===s?S.Children.map(s,function(e){return function(e,t){if(null!=e){var n=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&L(e.props.children)?S.cloneElement(e,{},e.props.children.split("").join(n)):"string"==typeof e?(L(e)&&(e=e.split("").join(n)),S.createElement("span",null,e)):e}}(e,j.isNeedInserted())}):null,O=Object(x.default)(m,["htmlType"]);if(void 0!==O.href)return S.createElement("a",A({},O,{className:g,onClick:j.handleClick,ref:j.saveButtonRef}),N,E);var T=m,k=T.htmlType,C=R(T,["htmlType"]);return S.createElement(I,null,S.createElement("button",A({},C,{type:k||"button",className:g,onClick:j.handleClick,ref:j.saveButtonRef}),N,E))},j.state={loading:e.loading,hasTwoCNChar:!1},j}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,S["Component"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.loading instanceof Boolean?A({},t,{loading:e.loading}):null}}],(r=[{key:"componentDidMount",value:function(){this.fixTwoCNChar()}},{key:"componentDidUpdate",value:function(e){var t=this;this.fixTwoCNChar(),e.loading&&"boolean"!=typeof e.loading&&clearTimeout(this.delayTimeout);var n=this.props.loading;if(n&&"boolean"!=typeof n&&n.delay)this.delayTimeout=window.setTimeout(function(){return t.setState({loading:n})},n.delay);else{if(e.loading===this.props.loading)return;this.setState({loading:n})}}},{key:"componentWillUnmount",value:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)}},{key:"fixTwoCNChar",value:function(){if(this.buttonNode){var e=this.buttonNode.textContent||this.buttonNode.innerText;this.isNeedInserted()&&L(e)?this.state.hasTwoCNChar||this.setState({hasTwoCNChar:!0}):this.state.hasTwoCNChar&&this.setState({hasTwoCNChar:!1})}}},{key:"isNeedInserted",value:function(){var e=this.props,t=e.icon,n=e.children;return 1===S.Children.count(n)&&!t}},{key:"render",value:function(){return S.createElement(c.a,null,this.renderButton)}}])&&O(n.prototype,r),o&&O(n,o),t}();q.__ANT_BUTTON=!0,q.defaultProps={loading:!1,ghost:!1,block:!1},q.propTypes={type:r.string,shape:r.oneOf(M),size:r.oneOf(D),htmlType:r.oneOf(W),onClick:r.func,loading:r.oneOfType([r.bool,r.object]),className:r.string,icon:r.string,block:r.bool},Object(a.polyfill)(q);var z=q;function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},G=function(f){return S.createElement(c.a,null,function(e){var t=e.getPrefixCls,n=f.prefixCls,r=f.size,o=f.className,a=U(f,["prefixCls","size","className"]),i=t("btn-group",n),c="";switch(r){case"large":c="lg";break;case"small":c="sm"}var l,s,u,p=P()(i,(l={},s="".concat(i,"-").concat(c),u=c,s in l?Object.defineProperty(l,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[s]=u,l),o);return S.createElement("div",F({},a,{className:p}))})};z.Group=G;t.a=z},25:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}},255:function(e,t){},37:function(e,t,n){"use strict";n(23),n(255)},426:function(e,t){},515:function(e,t,n){"use strict";n.r(t);var r,c=n(0),o=n(16),a=n(14),i=n(12),l=(n(34),n(13)),s=(n(37),n(19)),u=(n(426),n(2)),p=n.n(u),f=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(i=(a<3?o(i):3<a?o(t,n,i):o(t,n))||i);return 3<a&&i&&Object.defineProperty(t,n,i),i},d=function(a,i,c,l){return new(c||(c=Promise))(function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new c(function(e){e(t.value)}).then(n,r)}o((l=l.apply(a,i||[])).next())})},h=function(n,r){var o,a,i,e,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&t[0]?a.return:t[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,t[1])).done)return i;switch(a=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],a=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},y="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),b=function(e){return{getTestPaper:e.httpResponse.getTestPaper}},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={loading:!1,showBackToTop:!1},e}return f(e,t),e.prototype.componentWillMount=function(){return d(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:t=this.props.match.params.id,n=i.a.loading("",0),e.label=1;case 1:return e.trys.push([1,,3,4]),this.setState({loading:!0}),[4,a.actionsMap.getTestPaper({url:"/api/test/"+t,method:"get"})];case 2:return e.sent(),[3,4];case 3:return n(),this.setState({loading:!1}),[7];case 4:return[2]}})})},e.prototype.render=function(){var e=this,t=this.props.getTestPaper&&this.props.getTestPaper.data,n=t&&t.average&&t.average.split("@").map(parseFloat),r=t&&t.score&&t.score.split("@").map(parseFloat),o=t&&t.questions,a=t&&t.answers&&t.answers.map(function(e){return 10<parseInt(e,10)?String(e).split("").map(function(e){return parseInt(e,10)}):parseInt(e,10)}),i=t&&t.most_choice&&t.most_choice.split("@").map(function(e){return 10<parseInt(e,10)?String(e).split("").map(function(e){return parseInt(e,10)}):parseInt(e,10)});return c.createElement("div",{className:"analyze"},t&&t.most_choice?c.createElement(s.a,null,c.createElement("div",{className:"wrapper"},c.createElement("div",{className:"header"},c.createElement("h1",null,t.paper_name),c.createElement("p",null,t.description),c.createElement(l.a,{icon:"left",type:"primary",shape:"circle",className:"header-back",onClick:function(){return e.props.history.goBack()}})),c.createElement("div",{className:"score-container"},c.createElement("p",{className:"cell margin"},t.score_attrs.split("@").map(function(e){return c.createElement("span",{className:"cell-inner"},e)})),c.createElement("p",{className:"cell"},c.createElement("span",{className:"cell-label"},"平均分"),n.map(function(e){return c.createElement("span",{className:"cell-inner"},e)})),c.createElement("p",{className:"cell"},c.createElement("span",{className:"cell-label"},"我的得分"),r&&r.map(function(e,t){return c.createElement("span",{className:"cell-inner",style:{color:e>n[t]?"red":"green"}},e)})),c.createElement("p",{className:"cell"},c.createElement("span",{className:"cell-label"},"高于"),t.score_above.split("@").map(function(e){return c.createElement("span",{className:"cell-inner"},100*parseFloat(e).toFixed(2),"%")}))),c.createElement("p",null,"有 ",t.finished_count," 人已完成该评测"),c.createElement("p",null,t.comment),c.createElement("div",{className:"answers-tip"},c.createElement("p",null,"备注："),c.createElement("p",{className:p()({"answers-tip-most-choice":!0,"most-choice":!0})},"这种标志代表最多人选的选项"),c.createElement("p",{className:p()({"answers-tip-my-choice":!0,"my-choice":!0})},"这种标志代表你自己的选项")),c.createElement("div",{className:"answers-wrapper"},o.map(function(e,n){var t=e.question,r=e.answers,o=e.multiple;return c.createElement("div",{className:"question-wrapper"},c.createElement("div",{className:"question"},c.createElement("p",{className:"question-title"},c.createElement("h2",{className:"question-title-bold"},n+1,".")," ",t," ",o?"(多选)":null)),c.createElement("div",{className:"answer-wrapper"},r.map(function(e,t){return c.createElement("p",{className:p()({"most-choice":i[n]instanceof Object?i[n].includes(t+1):i[n]===t+1,"my-choice":a[n]instanceof Object?a[n].includes(t+1):a[n]===t+1})},y[t],". ",e)})))})))):null)},e=m([Object(o.connect)(b)],e)}(c.Component);t.default=v}}]);